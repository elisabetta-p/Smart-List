(this["webpackJsonpsmart-list"]=this["webpackJsonpsmart-list"]||[]).push([[0],{214:function(e,t,a){e.exports=a(542)},219:function(e,t,a){},438:function(e,t,a){},542:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(14),r=a.n(l),o=(a(219),a(39)),c=a(12),i=a(202),m=a.n(i),u=a(5),d=function(e,t,a,n){return console.log(t),function(s,l){if("shopping"===t)s(function(e,t,a,n){var s={id:e.length,name:t,categories:Object(u.a)(a),sharingWith:Object(u.a)(n),items:[]};return e.push(s),{type:"CREATE_SHOPPING_LIST",payload:Object(u.a)(e)}}(Object(u.a)(l().lists.shoppingLists),e,a,n));else if("todo"===t){s(function(e,t,a,n){var s={id:e.length,name:t,categories:Object(u.a)(a),sharingWith:Object(u.a)(n),items:[]};return e.push(s),{type:"ADD_TODOLIST",payload:Object(u.a)(e)}}(Object(u.a)(l().lists.todoLists),e,a,n))}}},p=a(43),b=a.n(p),g=a(13),h=a(89),E=function(e){var t=Object(o.a)(),a=t.register,n=t.handleSubmit,l=t.errors,r=t.watch,i=Object(c.b)(),u=Object(g.f)();return s.a.createElement("div",{className:"login-container"},s.a.createElement(b.a,{width:"".concat(window.innerWidth,"px"),height:"".concat(window.innerHeight,"px"),params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:5,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}),s.a.createElement("div",{className:"form-login-container"},s.a.createElement("h1",{className:"hello"},"Hello",r("username")?", ".concat(r("username")):null),s.a.createElement("form",{onSubmit:n((function(e){var t,a;localStorage.setItem("username",e.username),console.log(localStorage),i((t=e.username,a=e.password,localStorage.setItem("username",t),function(e){var n={username:t,password:a};return m.a.post("".concat("http://localhost:9487","/users/login"),n).then((function(e){e&&(localStorage.setItem("username",e.data.username),localStorage.setItem("userId",e.data.userId))})).catch((function(e){console.log(e.message)})),{type:"LOGIN",payload:t}})),u.push("/profile/".concat(localStorage.getItem("username").toLocaleLowerCase()))})),className:"form"},s.a.createElement("input",{name:"username",placeholder:"Insert your username",type:"text",ref:a({required:{value:!0,message:"Please insert your username"},minLength:{value:3,message:"Username too short"},maxLength:{value:32,message:"Username too long"}}),className:"input"}),s.a.createElement("input",{name:"password",placeholder:"Insert your password",type:"password",ref:a({required:{value:!0,message:"Please insert your password"},minLength:{value:3,message:"Password too short"},maxLength:{value:32,message:"Password too long"}}),className:"input"}),l.username?s.a.createElement("p",{className:"error-message"},l.username.message):null,l.password?s.a.createElement("p",{className:"error-message"},l.password.message):null,s.a.createElement("input",{type:"submit",value:"Login",className:"button"}),s.a.createElement(h.b,{to:"/signup"},s.a.createElement("button",{className:"button"},"Sign up")))))},f=a(40),O=a(10),v={username:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(O.a)(Object(O.a)({},e),{},{username:t.payload});default:return e}},y={},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP":return Object(O.a)({},e);default:return e}},S={shoppingLists:[],todoLists:[],categories:[],users:[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_LISTS":return Object(O.a)(Object(O.a)({},e),{},{shoppingLists:Object(u.a)(t.payload)});case"GET_TODOS":case"ADD_TODOLIST":return Object(O.a)(Object(O.a)({},e),{},{todoLists:Object(u.a)(t.payload)});case"CREATE_SHOPPING_LIST":return Object(O.a)(Object(O.a)({},e),{},{shoppingLists:Object(u.a)(t.payload)});case"GET_CATEGORIES":return Object(O.a)(Object(O.a)({},e),{},{categories:Object(u.a)(t.payload)});case"CLEAN_LISTS":return Object(O.a)(Object(O.a)({},e),{},{categories:[],todoLists:[],shoppingLists:[]});case"CHANGE_CHECK_SHOPPING":return Object(O.a)(Object(O.a)({},e),{},{shoppingLists:Object(u.a)(t.payload)});case"CHANGE_CHECK_TODO":return Object(O.a)(Object(O.a)({},e),{},{todoLists:Object(u.a)(t.payload)});case"GET_USERS":return Object(O.a)(Object(O.a)({},e),{},{users:Object(u.a)(t.payload)});default:return e}},C=Object(f.combineReducers)({login:j,signup:N,lists:w}),L=a(203),I=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.compose,_=Object(f.createStore)(C,I(Object(f.applyMiddleware)(L.a))),x=(a(438),function(e){var t=Object(o.a)(),a=t.register,l=t.handleSubmit,r=t.errors,i=t.watch,m=Object(c.b)();Object(n.useEffect)((function(){localStorage.clear()}),[]);var u=Object(g.f)();return s.a.createElement("div",{className:"login-container"},s.a.createElement(b.a,{width:"".concat(window.innerWidth,"px"),height:"".concat(window.innerHeight,"px"),params:{particles:{number:{value:160,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:5,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}),s.a.createElement("div",{className:"form-login-container"},s.a.createElement("h1",{className:"hello"},"Welcome",i("username")?", ".concat(i("username")):null),s.a.createElement("form",{onSubmit:l((function(e){var t;localStorage.setItem("username",e.username),console.log(localStorage),m((e.username,e.email,t=e.password,localStorage.setItem("username",t),{type:"SIGNUP"})),u.push("/profile/".concat(localStorage.getItem("username").toLocaleLowerCase()))})),className:"form"},s.a.createElement("input",{name:"username",placeholder:"Insert your username",type:"text",ref:a({required:{value:!0,message:"Please insert your username"},minLength:{value:3,message:"Username too short"},maxLength:{value:32,message:"Username too long"}}),className:"input"}),s.a.createElement("input",{name:"email",placeholder:"Insert your email",type:"email",ref:a({required:{value:!0,message:"Please insert your email"}}),className:"input"}),s.a.createElement("input",{name:"password",placeholder:"Insert your password",type:"password",ref:a({required:{value:!0,message:"Please insert your password"},minLength:{value:3,message:"Password too short"},maxLength:{value:32,message:"Password too long"}}),className:"input"}),r.username?s.a.createElement("p",{className:"error-message"},r.username.message):null,r.password?s.a.createElement("p",{className:"error-message"},r.password.message):null,r.email?s.a.createElement("p",{className:"error-message"},r.email.message):null,s.a.createElement("input",{type:"submit",value:"Confirm",className:"button"}),s.a.createElement("button",{onClick:function(){u.goBack()},className:"button"},"Go back"))))}),k=a(18),T=a(567),P=(a(80),a(44)),G=a(98),A=a(565),D=a(566),H=a(564),z=(a(182),a(96)),U=a(127),W=function(e){var t=Object(c.b)();Object(n.useEffect)((function(){t({type:"GET_USERS",payload:[].concat(["boba","banana","prokkius"])})}),[]);Object(c.c)((function(e){return e.lists.users}));var a=[188,13],l=Object(n.useState)([]),r=Object(k.a)(l,2),o=r[0],i=r[1],m=Object(n.useState)(null),d=Object(k.a)(m,2),p=d[0],b=d[1];Object(n.useEffect)((function(){e.users(o),b(null)}),[o]);return s.a.createElement("div",null,s.a.createElement("p",{className:"text-modal"},"Share with"),s.a.createElement("span",null,s.a.createElement(U.WithContext,{tags:o,handleDelete:function(e){var t=o.filter((function(t,a){return a!==e}));i(Object(u.a)(t))},handleAddition:function(e){i((function(t){return[].concat(Object(u.a)(t),[e])}))},delimiters:a,allowUnique:!0,classNames:{tagInputField:"input input-new-list",tag:"tag",tagInput:"tagInput",tags:"tags",remove:"removeTag",selected:"selected"},allowDragDrop:!1,inputFieldPosition:"bottom"})),p?s.a.createElement("p",{className:"error-message"},p):null)},q=function(e){var t=Object(n.useState)(null),a=Object(k.a)(t,2),l=a[0],r=a[1];return Object(n.useEffect)((function(){e.type(l)}),[l]),s.a.createElement("div",null,s.a.createElement("p",{className:"text-modal"},"What kind of list is this?"),s.a.createElement(z.a,{options:[{value:"shopping",label:"Shopping list"},{value:"todo",label:"Todo list"}],onChange:function(e){r(e.value)},styles:{menuPortal:function(e){return Object(O.a)(Object(O.a)({},e),{},{zIndex:9999})}},isSearchable:!0,menuPortalTarget:document.body,className:"select-add-list",isClearable:!0}))},R=function(e){var t=Object(c.c)((function(e){return e.lists.categories})),a=Object(n.useState)([]),l=Object(k.a)(a,2),r=l[0],o=l[1],i=t.map((function(e){return{value:e.id,label:e.name}}));return Object(n.useEffect)((function(){e.categories(r)}),[r]),s.a.createElement("div",null,s.a.createElement("p",{className:"text-modal"},"Select all the categories"),s.a.createElement(z.a,{options:i,isMulti:!0,onChange:function(e){o((function(t){return[].concat(Object(u.a)(t),[e[e.length-1].value])}))},styles:{menuPortal:function(e){return Object(O.a)(Object(O.a)({},e),{},{zIndex:9999})}},isSearchable:!0,menuPortalTarget:document.body,className:"select-add-list"})," ")},F=function(e){e.createShoppingList;var t=e.onClose,a=Object(G.a)(e,["createShoppingList","onClose"]),l=Object(o.a)(),r=l.register,i=l.handleSubmit,m=(l.errors,l.watch,Object(c.b)()),u=(Object(c.c)((function(e){return e.lists.shoppingLists})),Object(n.useState)(null)),p=Object(k.a)(u,2),b=p[0],g=p[1],h=Object(n.useState)([]),E=Object(k.a)(h,2),f=E[0],O=E[1],v=Object(n.useState)([]),j=Object(k.a)(v,2),y=j[0],N=j[1];return s.a.createElement(A.a,Object.assign({},a,{onClose:t}),s.a.createElement("div",{className:"colorfulBg"},s.a.createElement("form",{onSubmit:i((function(e,t){t.preventDefault(),m(d(e.name,b,f,y))}))},s.a.createElement(D.a,{className:"modal-title"},s.a.createElement("strong",null,"Create a new list")),s.a.createElement(H.a,null,s.a.createElement("input",{type:"text",name:"name",label:"name",placeholder:"Insert the name of the new todo list",ref:r({required:{value:!0,message:"Please insert a name"},minLength:{value:3,message:"Name too short"},maxLength:{value:32,message:"Name too long"}}),className:"input input-new-list"}),s.a.createElement(q,{type:g}),s.a.createElement(R,{categories:O,style:{position:"relative",Index:"5000"}}),s.a.createElement(W,{users:N}),s.a.createElement("span",{style:{display:"flex",justifyContent:"center"}},s.a.createElement("input",{type:"submit",className:"button",value:"Add todo list",onClick:t,style:{display:"flex",justifyContent:"center"}}))))))},B=function(){var e=Object(g.f)(),t=Object(P.b)((function(e){var t=e.in,a=e.onExited;return s.a.createElement(F,{open:t,onExited:a,onClose:l})})),a=Object(k.a)(t,2),n=a[0],l=a[1];return s.a.createElement("div",{className:"header-container"},s.a.createElement(b.a,{width:"".concat(window.innerWidth,"px"),height:"10vh",params:{particles:{number:{value:60,density:{enable:!1}},size:{value:3,random:!0,anim:{speed:4,size_min:.3}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:250,duration:2,size:0,opacity:0},repulse:{distance:400,duration:4}}}}}),s.a.createElement("div",{className:"content-header-container"},s.a.createElement("header",null,s.a.createElement("span",null,s.a.createElement("h1",{className:"hello-profile"},"Hello, ",localStorage.getItem("username"))),s.a.createElement("span",{className:"header-right"},s.a.createElement("button",{className:"button header-button",onClick:n},"Create a new list"),s.a.createElement(T.a,{className:"header-icon",onClick:function(){localStorage.clear(),e.push("/")}}))))," ")},K=a(22),M=(a(543),function(e){e.createShoppingList;var t=e.onClose,a=Object(G.a)(e,["createShoppingList","onClose"]),n=Object(o.a)(),l=n.register,r=n.handleSubmit;n.errors,n.watch,Object(c.b)(),Object(c.c)((function(e){return e.lists.shoppingLists}));return s.a.createElement(A.a,Object.assign({},a,{onClose:t}),s.a.createElement("div",{className:"colorfulBg"},s.a.createElement("form",{onSubmit:r((function(e,t){t.preventDefault()}))},s.a.createElement(D.a,null,"Add a shopping list"),s.a.createElement(H.a,null,s.a.createElement("input",{type:"text",name:"name",label:"name",placeholder:"Insert the name of the new todo list",ref:l({required:{value:!0,message:"Please insert a name"},minLength:{value:3,message:"Name too short"},maxLength:{value:32,message:"Name too long"}}),className:"input"}),s.a.createElement("input",{type:"submit",className:"button",value:"Add todo list",onClick:t})))))}),J=function(e){return s.a.createElement("div",{className:"list-header",onClick:function(){e.parentCallbackShowContent()}},s.a.createElement("div",{className:"list-header-flex"},s.a.createElement("h2",{className:"list-title"},e.list.name),s.a.createElement("button",{className:"button list-button"},"Edit")))},X=function(e){var t=Object(c.b)(),a=Object(P.b)((function(e){var t=e.in,a=e.onExited;return s.a.createElement(M,{open:t,onExited:a,onClose:r})})),n=Object(k.a)(a,2),l=n[0],r=n[1];return s.a.createElement("div",{className:"list-content",style:{height:e.showContent?"10vh":"0"}},0!==e.items.length?s.a.createElement("ul",null," ",e.items.map((function(a,n){return s.a.createElement("li",{key:n},s.a.createElement("input",{type:"radio",checked:!!a.isChecked,onChange:function(){var n,s,l;t((n=e.items,s=a.id,l=e.type,console.log("cose che arrivano all'action ",n,s,l),n.forEach((function(e){e.id===s&&(e.isChecked=!e.isChecked)})),"shopping"===l?{type:"CHANGE_CHECK_SHOPPING",payload:Object(u.a)(n)}:{type:"CHANGE_CHECK_TODO",payload:Object(u.a)(n)}))}}),a.name)}))):s.a.createElement("p",null,"Add an item"),s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement("button",{className:"button add-item-button",onClick:"shopping"===e.type?l:null},"Add item")))},V=function(e){var t=Object(n.useState)(!0),a=Object(k.a)(t,2),l=a[0],r=a[1];return s.a.createElement("div",{className:"container-list-card"},s.a.createElement(J,{parentCallbackShowContent:function(){r(!l)},list:e.list}),s.a.createElement(X,Object(K.a)({showContent:l,type:e.type,items:e.list.items},"type",e.type)))},$=a(568),Q=function(){Object(c.b)();var e=Object(c.c)((function(e){return e.lists.shoppingLists})),t=Object(c.c)((function(e){return e.lists.todoLists}));Object(c.c)((function(e){return e.lists.categories}));return 0!==e.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"list-container list-container-flex"},s.a.createElement("h1",{className:"list-container-title"},"Shopping"),s.a.createElement("div",{className:"cards"},e.map((function(e,t){return s.a.createElement(V,{list:e,key:t,type:"shopping"})})))),s.a.createElement("div",{className:"list-container list-container-flex"},s.a.createElement("h1",{className:"list-container-title"},"To do"),s.a.createElement("div",{className:"cards"},t.map((function(e,t){return s.a.createElement(V,{list:e,key:t,type:"todo"})}))))):s.a.createElement("div",{style:{height:"90vh",display:"flex",justifyContent:"center",alignItems:"center"}},s.a.createElement($.a,{className:"loading-style"}))},Y=function(e){var t=Object(c.b)();return Object(n.useEffect)((function(){return t({type:"GET_CATEGORIES",payload:[].concat([{id:0,name:"Food"},{id:1,name:"Clothes"},{id:2,name:"Stuff"}])}),t({type:"LOAD_LISTS",payload:[].concat([{id:1,name:"Cibo da comprare",items:[{id:0,name:"zucchine",description:"molto buone",isFav:!0,category:0,isChecked:!1},{id:1,name:"scalogno",description:"rubatissimo",isFav:!0,category:0,isChecked:!1}]},{id:2,name:"Seconda lista",items:[]}])}),t({type:"GET_TODOS",payload:[].concat([{id:1,name:"todo list 1",items:[]},{id:2,name:"todo list 2",items:[]}])}),function(){t({type:"CLEAN_LISTS"})}}),[]),s.a.createElement("div",{className:"profile-container"},s.a.createElement(B,null),s.a.createElement(Q,null))};var Z=function(){return s.a.createElement(h.a,{basename:"/Smart-List"},s.a.createElement(g.c,null,s.a.createElement(g.a,{exact:!0,path:"/"},s.a.createElement(E,null)),s.a.createElement(g.a,{path:"/signup"},s.a.createElement(x,null)),s.a.createElement(g.a,{path:"/profile/:username"},s.a.createElement(Y,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(545);r.a.render(s.a.createElement(c.a,{store:_},s.a.createElement(P.a,{rootComponent:ee.a},s.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[214,1,2]]]);
//# sourceMappingURL=main.da5f800c.chunk.js.map